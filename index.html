<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>jQuery Preview an Image Before it is Uploaded</title>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<style>
    .input {
        width: 200px;
        height: 200px;
        opacity: 0;
        z-index: 3;
        position: absolute;
        top: 0;
        left: 0;
    }

    .container {
        width: 200px;
        height: 200px;
        overflow: hidden;
        position: relative;
        border-radius: 50%;
    }

    .image {
        width: 200px;
        height: 200px;
        position: absolute;
        top: 0;
        left: 0;
        object-fit: cover;
    }
</style>
</head> 
<body>
    <form action="confirmation.php" method="post">
        <div class="container">
            <input type="file" name="photo" class="input">
            <img id="previewImg" src="/profile-5.jpg" alt="Placeholder" class="image">
        </div>
        <p>
            <input type="submit" value="Submit">
        </p>
    </form>
    <form action="?" method="POST">
        <div class="g-recaptcha" data-sitekey="6LcrhtwfAAAAAIcIiIWpSiLY1dRTTgEGkfxqdmvE"></div>
        <br/>
        <input type="submit" value="Submit">
      </form>
    <script>
        // function previewFile(input){
        //     var file = $("input[type=file]").get(0).files[0];
     
        //     if(file){
        //         var reader = new FileReader();
     
        //         reader.onload = function(){
        //             console.log("upload");
        //             $("#previewImg").attr("src", reader.result);
        //         }
     
        //         reader.readAsDataURL(file);
        //     }
        // }
    
        var imgInp = document.querySelector('.input');
        var image = document.querySelector('.image');
        imgInp.onchange = evt => {
            const [file] = imgInp.files
            if (file) {
                image.src = URL.createObjectURL(file)
            }
        }
    </script>
    
</body>
</html>